//     Stratus.Collections.Provider.js 1.0
//     Copyright (c) 2016 by Sitetheory, All Rights Reserved
//
//     All information contained herein is, and remains the
//     property of Sitetheory and its suppliers, if any.
//     The intellectual and technical concepts contained herein
//     are proprietary to Sitetheory and its suppliers and may be
//     covered by U.S. and Foreign Patents, patents in process,
//     and are protected by trade secret or copyright law.
//     Dissemination of this information or reproduction of this
//     material is strictly forbidden unless prior written
//     permission is obtained from Sitetheory.
//
//     For full details and documentation:
//     http://docs.sitetheory.io
!function(e,r){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","stratus.models.provider"],r):r(e.Stratus)}(this,function(e){e.Filters.Since=angular.module("since",[]).filter("since",function(){return function(e,r){var o,a=function(e,r,o){var a=angular.isFunction(e)?e(r,i):e,n=o.numbers&&o.numbers[r]||r;return a.replace(/%d/i,n)},n=(new Date).getTime(),t=new Date(e).getTime(),u=r||!1,s={prefixAgo:"",prefixFromNow:"",suffixAgo:"ago",suffixFromNow:"from now",seconds:"less than a minute",minute:"about a minute",minutes:"%d minutes",hour:"about an hour",hours:"about %d hours",day:"a day",days:"%d days",month:"about a month",months:"%d months",year:"about a year",years:"%d years"},i=n-t,d=Math.abs(i)/1e3,m=d/60,f=m/60,h=f/24,c=h/365,g=void 0===s.wordSeparator?" ":s.wordSeparator,y=s.prefixAgo,l=s.suffixAgo;return u&&i<0&&(y=s.prefixFromNow,l=s.suffixFromNow),o=d<45&&a(s.seconds,Math.round(d),s)||d<90&&a(s.minute,1,s)||m<45&&a(s.minutes,Math.round(m),s)||m<90&&a(s.hour,1,s)||f<24&&a(s.hours,Math.round(f),s)||f<42&&a(s.day,1,s)||h<30&&a(s.days,Math.round(h),s)||h<45&&a(s.month,1,s)||h<365&&a(s.months,Math.round(h/30),s)||c<1.5&&a(s.year,1,s)||a(s.years,Math.round(c),s),y.replace(/ /g,""),o.replace(/ /g,""),l.replace(/ /g,""),y+" "+o+" "+l+" "+g}})});