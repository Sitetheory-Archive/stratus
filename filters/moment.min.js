!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","moment"],factory):factory(root.Stratus,root._,root.angular,root.moment)}(this,function(Stratus,_,angular,moment){Stratus.Filters.Moment=function(){return function(input,options){return this.ago=!0,this.since=!1,this.relative="1w",this.format="MMM Do YYYY, h:mma",angular.isObject(options)&&angular.extend(this,options),this.relative&&"string"==typeof this.relative&&Math.round((new Date).getTime()/1e3)>input+_.seconds(this.relative)&&(this.since=!1),this.since?moment.unix(input).fromNow(!this.ago):moment.unix(input).format(this.format)}}});