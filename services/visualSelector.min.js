!function(e,t){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","stratus.services.registry","stratus.services.details","stratus.services.commonMethods"],t):t(e.Stratus,e._)}(this,function(e,t){e.Services.VisualSelector=["$provide",function(e){e.factory("visualSelector",["$q","$http","$mdPanel","registry","details","commonMethods",function(e,i,s,o,n,a){return{zoomviewDialog:function(e,t,i){e[i]=t;var o=s.newPanelPosition().absolute().center(),n={attachTo:angular.element(document.body),scope:e,controller:function(t){e.closeDialog=function(){t.close()}},templateUrl:i+".html",hasBackdrop:!0,panelClass:"media-dialog",position:o,trapFocus:!0,zIndex:150,clickOutsideToClose:!0,escapeToClose:!1,focusOnOpen:!0};s.open(n)},selectTheme:function(e){return a.sendRequest(e,"POST","/Api/Template")},fetchCollection:function(e,i,s,a){e.registry=new o;var r={target:i.type||a,id:null,manifest:!1,decouple:!0,selectedid:i.selectedid,property:i.property,api:{options:{},limit:t.isJSON(i.limit)?JSON.parse(i.limit):s}};return e.api&&angular.isObject(e.api)&&(r.api=t.extendDeep(r.api,e.api)),e.registry.fetch(r,e),e.selectedDetails=new n,e.selectedDetails.fetch(r,e),e}}}])}]});