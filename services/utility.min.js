!function(e,r){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],r):r(e.Stratus,e._,e.angular)}(this,function(e,r,t){e.Services.utility=["$provide",function(n){n.factory("utility",["$q","$http","$window","$sce","$log",function(n,a,s,o,u){function i(t){var n=e.BundlePath+"components/"+r.snakeToCamel(t);return e.BaseUrl+n+(e.Environment.get("production")?".min":"")+".css"}return{componentInitializer:function(t,n,a,s,o){return console.warn("Deprecated initializer:",t),t.uid=r.uniqueId(s+"_"),e.Instances[t.uid]=n,n.elementId=a.elementId||t.uid,o?e.Internals.CssLoader(i(s)):null},getStatus:function(e){return console.trace("Deprecated getStatus call!"),e.data.meta.status[0]},buildCssUrl:i,validPassword:function(e){return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[A-Za-z\d$&+,:;=?@#|'<>.^*()%!-]{8,}|^.{20,}$/.test(e)},generateStrengthBar:function(e,r){var t={progressBarClass:"",progressBarValue:0};switch(r(e).score){case 0:t.progressBarClass="risky",t.progressBarValue=20;break;case 1:t.progressBarClass="guessable",t.progressBarValue=40;break;case 2:t.progressBarClass="safe",t.progressBarValue=60;break;case 3:t.progressBarClass="moderate",t.progressBarValue=80;break;case 4:t.progressBarClass="strong",t.progressBarValue=100}return t},getUrlParams:function(){var e=r.getUrlParams();return{type:r.has(e,"type")?e.type:null,email:r.has(e,"email")?e.email:null,token:r.has(e,"token")?e.token:null}},cleanedPhoneNumber:function(e){return e.replace(/\D+/g,"")},moreParams:function(){var e={};return t.forEach(location.hash.split("#"),function(r){if(r){var t=r.split("/");t.length>1&&(e[t[0]]=t[1])}}),e},RESPONSE_CODE:{verify:"VERIFY",success:"SUCCESS"},copyToClipboard:function(e){var r=document.createElement("input");document.body.appendChild(r),r.setAttribute("value",e),r.select();var t=document.execCommand("copy");return document.body.removeChild(r),t},sendRequest:function(e,r,t,s){return u.warn("sendRequest is deprecated and will be removed in future versions!"),a({url:t,method:r,data:e,headers:s}).then(function(e){return n.resolve(e)},function(e){return n.reject(e)})},safeMessage:function(e){return o.trustAsHtml(e)}}}])}]});