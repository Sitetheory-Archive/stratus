//     Stratus.Views.Plugins.Drawer.js 1.0
//     Copyright (c) 2016 by Sitetheory, All Rights Reserved
//
//     All information contained herein is, and remains the
//     property of Sitetheory and its suppliers, if any.
//     The intellectual and technical concepts contained herein
//     are proprietary to Sitetheory and its suppliers and may be
//     covered by U.S. and Foreign Patents, patents in process,
//     and are protected by trade secret or copyright law.
//     Dissemination of this information or reproduction of this
//     material is strictly forbidden unless prior written
//     permission is obtained from Sitetheory.
//
//     For full details and documentation:
//     http://docs.sitetheory.io
!function(e,t){"function"==typeof define&&define.amd?define(["stratus","zepto","underscore","stratus.views.plugins.base","stratus.views.plugins.addclass","stratus.views.plugins.addclose"],t):t(e.Stratus,e.$,e._)}(this,function(e,t,a){e.Views.Plugins.Drawer=e.Views.Plugins.Base.extend({events:{click:"toggle"},initialize:function(a){if(this.prepare(a),!this.$el.attr("id"))return console.warn('No ID supplied for data-plugin="Drawer" button.',this.$el),!1;var i=this.$el.attr("id").replace(/-.*$/,""),s=t(this.$el.data("target")?this.$el.data("target"):"#"+i+"-drawer");if(!s)return console.warn('No ID supplied for data-plugin="Drawer" targetted drawer.',this.$el),!1;this.drawerClass=this.$el.data("mobileonly")?"mobileDrawer":"drawer",s.addClass(this.drawerClass),s.attr("aria-labelledby")||s.attr("aria-labelledby",i);var r=s.find(".btnClose");r.length||(new e.Views.Plugins.AddClose({el:s}),r=s.find(".btnClose")),r.unbind("click"),r.on("click",function(){this.toggle()}.bind(this))},toggle:function(){var e=this.$el.attr("id").replace(/-.*$/,"");t("#"+e+"-drawer").removeClass("hidden");var a=this.drawerClass.toLowerCase(),i=t("body");i.attr("data-"+a+"open")!==e?i.attr("data-"+a+"open",e):i.attr("data-"+a+"open",null)}})});