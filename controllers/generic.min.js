//     Stratus.Controllers.Generic.js 1.0
//     Copyright (c) 2016 by Sitetheory, All Rights Reserved
//
//     All information contained herein is, and remains the
//     property of Sitetheory and its suppliers, if any.
//     The intellectual and technical concepts contained herein
//     are proprietary to Sitetheory and its suppliers and may be
//     covered by U.S. and Foreign Patents, patents in process,
//     and are protected by trade secret or copyright law.
//     Dissemination of this information or reproduction of this
//     material is strictly forbidden unless prior written
//     permission is obtained from Sitetheory.
//
//     For full details and documentation:
//     http://docs.sitetheory.io
!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","stratus.services.registry"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Controllers.Generic=function($scope,$element,$mdToast,$log,$parse,registry){if($scope.registry=new registry,$scope.registry.fetch($element,$scope),$scope.Stratus=Stratus,$scope.setUrlParams=function(options){if(console.log(options),angular.isObject(options)){var substance=!1;angular.forEach(options,function(value){angular.isDefined(value)&&null!==value&&(angular.isString(value)?value.length>0&&(substance=!0):substance=!0)}),substance&&window.location.replace(Stratus.Internals.SetUrlParams(options))}},$scope.$log=$log,$scope.collection){var selected=$element.attr("data-selected");selected&&$scope.$watch("collection.models",function(models){$scope.selected||$scope.selectedInit||angular.forEach(models,function(model){selected==model.get("id")&&($scope.selected=model,$scope.selectedInit=!0)})})}$scope.scale=2,$scope.$watch("scale",function(){var scale="Medium";2==$scope.scale?scale="Large":0==$scope.scale&&(scale="Small"),document.querySelector("body").dataset.scale=scale}),$scope.showActionToast=function(message){var toast=$mdToast.simple().textContent(message).action("UNDO").highlightAction(!0).highlightClass("md-accent").position("top right");$mdToast.show(toast).then(function(response){"ok"==response&&console("undo clicked.")},$scope.error)},Stratus.Instances[_.uniqueId("controller_")]=$scope}});