!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Controllers.SelectMainRoute=["$scope",function($scope){(Stratus.Instances[_.uniqueId("select_main_route_")]=$scope).Stratus=Stratus,$scope._=_,$scope.routes=[],$scope.mainRoute=0,$scope.$watch("model.data.routing",function(routing){routing&&($scope.routes=routing,angular.forEach($scope.routes,function(route){route.main&&($scope.mainRoute=route.id)}))}),$scope.update=function(){return angular.forEach($scope.routes,function(route){route.main=route.id===$scope.mainRoute}),$scope.routes}}]});