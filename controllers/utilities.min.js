!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","stratus.services.commonMethods"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Controllers.Utilities=["$scope","$element","commonMethods",function($scope,$element,commonMethods){Stratus.Instances[_.uniqueId("utilities_")]=$scope,$scope.Stratus=Stratus,$scope._=_;$scope.model=null,$element.attr("ng-model")&&$scope.$parent.$watch($element.attr("ng-model"),function(model){model&&($scope.model=model)}),$scope.linkToSidebar=function(link){-1!=(link=function(link){for(var newLink="",startBlock=0,i=0;i<link.length;i++){var character=link.charAt(i);if("{"==character){if(2==++startBlock){for(var endChart=0,j=i;j<link.length;j++)if("}"==link.charAt(j)&&endChart++,2==endChart){var block=link.substring(i+1,j-1);newLink+=proccessValue(block.trim()),endChart=0,i=j;break}startBlock=0}}else newLink+=character}return newLink}(link)).indexOf("Versions")||_.isEmpty(commonMethods.moreParams())||(link+="#",angular.forEach(commonMethods.moreParams(),function(value,key){link+=key+"/"+value})),window.location.replace(window.location.origin+link)};function proccessValue(block){var value=null;return angular.forEach(block.split("."),function(attribute){value="model"!==attribute?value[attribute]:$scope.model}),value}}]});