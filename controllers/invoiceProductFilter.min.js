<<<<<<< c0b03aedbd0b430827480a6ee160311c50f518ec
!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Controllers.InvoiceProductFilter=["$scope","$log",function($scope,$log){Stratus.Instances[_.uniqueId("invoice_product_filter_")]=$scope,$scope.Stratus=Stratus,$scope._=_,$scope.timeStart=null,$scope.timeEnd=null,$scope.status=[{desc:"Cancelled",value:-1},{desc:"Active",value:1},{desc:"Pending Activation",value:0}],$scope.showOnly=[],$scope.billingIncrementOptions={i:"Minutely",h:"Hourly",d:"Daily",w:"Weekly",m:"Monthly",q:"Quarterly",y:"Yearly"},$scope.toggle=function(value){var index=$scope.showOnly.indexOf(value);-1!==index?$scope.showOnly.splice(index,1):$scope.showOnly.push(value),filter("api.options.invoiceStatus",$scope.showOnly)},$scope.getStatus=function(invoiceProduct){invoiceProduct=invoiceProduct.data;var currentTime=Math.floor(Date.now()),timeEnd=invoiceProduct.timeEnd?invoiceProduct.timeEnd:currentTime+1e3,timeStart=invoiceProduct.timeStart||currentTime+1e3;return timeEnd<=currentTime?"cancelled":currentTime<timeStart?"pendingActivation":timeStart<=currentTime&&currentTime<=timeEnd?"active":void 0};$scope.filterSite=function(siteId){filter("api.options.siteId",siteId)},$scope.filterProduct=function(productContentId){filter("api.options.productContentId",productContentId)};function filter(type,data){$scope.collection.meta.set(type,data),$scope.collection.fetch().then(function(response){$log.log("response:",response)})}$scope.filterDateRanger=function(){$scope.timeStart&&$scope.timeEnd&&angular.isDate($scope.timeStart)&&angular.isDate($scope.timeEnd)&&($scope.timeStart=new Date($scope.timeStart),$scope.timeEnd=new Date($scope.timeEnd),$scope.collection.meta.set("api.options.timeStart",$scope.timeStart.getTime()/1e3),$scope.collection.meta.set("api.options.timeEnd",$scope.timeEnd.getTime()/1e3),$scope.collection.fetch().then(function(response){$log.log("response:",response)}))}}]});
=======
<<<<<<< 3fbe5ed26dafd805948c6b17660f852ce10f1215
!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Controllers.InvoiceProductFilter=["$scope","$log",function($scope,$log){function filter(type,data){$scope.collection.meta.set(type,data),$scope.collection.fetch().then(function(response){$log.log("response:",response)})}Stratus.Instances[_.uniqueId("invoice_product_filter_")]=$scope,$scope.Stratus=Stratus,$scope._=_,$scope.timeStart=null,$scope.timeEnd=null,$scope.status=[{desc:"Cancelled",value:-1},{desc:"Active",value:1},{desc:"Pending Activation",value:0}],$scope.showOnly=[],$scope.billingIncrementOptions={i:"Minutely",h:"Hourly",d:"Daily",w:"Weekly",m:"Monthly",q:"Quarterly",y:"Yearly"},$scope.toggle=function(value){var index=$scope.showOnly.indexOf(value);-1!==index?$scope.showOnly.splice(index,1):$scope.showOnly.push(value),filter("api.options.invoiceStatus",$scope.showOnly)},$scope.getStatus=function(invoiceProduct){invoiceProduct=invoiceProduct.data;var currentTime=Math.floor(Date.now()),timeEnd=invoiceProduct.timeEnd?invoiceProduct.timeEnd:currentTime+1e3,timeStart=invoiceProduct.timeStart||currentTime+1e3;return timeEnd<=currentTime?"cancelled":currentTime<timeStart?"pendingActivation":timeStart<=currentTime&&currentTime<=timeEnd?"active":void 0},$scope.filterSite=function(siteId){filter("api.options.siteId",siteId)},$scope.filterProduct=function(productContentId){filter("api.options.productContentId",productContentId)},$scope.filterDateRanger=function(){$scope.timeStart&&$scope.timeEnd&&angular.isDate($scope.timeStart)&&angular.isDate($scope.timeEnd)&&($scope.timeStart=new Date($scope.timeStart),$scope.timeEnd=new Date($scope.timeEnd),$scope.collection.meta.set("api.options.timeStart",$scope.timeStart.getTime()/1e3),$scope.collection.meta.set("api.options.timeEnd",$scope.timeEnd.getTime()/1e3),$scope.collection.fetch().then(function(response){$log.log("response:",response)}))}}]});
=======
!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Controllers.InvoiceProductFilter=["$scope","$element","$log","$http","$parse",function($scope,$element,$log,$http,$parse){Stratus.Instances[_.uniqueId("invoice_product_filter_")]=$scope,$scope.Stratus=Stratus,$scope._=_,$scope.models=[],$scope.contents=[],$scope.status=[{desc:"Active",value:1},{desc:"Inactive",value:0},{desc:"Deleted",value:-1}],$scope.showOnly=[],$scope.billingIncrementOptions={i:"Minutely",h:"Hourly",d:"Daily",w:"Weekly",m:"Monthly",q:"Quarterly",y:"Yearly"},$scope.$watch("collection.models",function(models){models&&models.length>0&&($scope.models=$scope.contents=models)}),$scope.toggle=function(value){var index=$scope.showOnly.indexOf(value);-1!==index?$scope.showOnly.splice(index,1):$scope.showOnly.push(value),function(){if($scope.contents=[],0==$scope.showOnly.length)return void($scope.contents=$scope.models);angular.forEach($scope.models,function(model){-1!=$scope.showOnly.indexOf(model.data.status)&&$scope.contents.push(model)})}()}}]});
>>>>>>> wip - new UI for media uploader
>>>>>>> wip - new UI for media uploader
