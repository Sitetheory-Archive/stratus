!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","jquery","underscore","angular","angular-material","stratus.services.collection"],factory):factory(root.Stratus,root.$,root._)}(this,function(Stratus,$,_){Stratus.Components.Permissions={bindings:{ngModel:"="},controller:function($scope,$timeout,$attrs,registry,$http){Stratus.Internals.CssLoader(Stratus.BaseUrl+"sitetheorystratus/stratus/components/permissions"+(Stratus.Environment.get("production")?".min":"")+".css"),$scope.permissions=[],$scope.permissionSelected=[],$scope.permissionSearchTerm=null,$scope.userRoles=[],$scope.userRoleSelected=null,$scope.contents=[],$scope.contentSelected=null,$scope.loadPermissions=function(){return $timeout(function(){$scope.permissions=[{value:1,name:"View"},{value:2,name:"Create"},{value:4,name:"Edit"},{value:8,name:"Delete"},{value:16,name:"Publish"},{value:32,name:"Design"},{value:64,name:"Dev"},{value:128,name:"Master"}]},400)},$scope.loadContents=function(){return $timeout(function(){$scope.contents=[{id:1,name:"Art Bundle"},{id:2,name:"Articles"},{id:3,name:"The Art of being"}]},400)},$scope.loadUserRoles=function(){return $timeout(function(){$scope.userRoles=[{id:1,name:"Daniela"},{id:2,name:"Desmond"},{id:3,name:"Desiree"}]},400)},$scope.processSelectAction=function(){-1==$scope.permissionSelected.indexOf(128)&&$scope.permissionSelected.length!=$scope.permissions.length-1||($scope.permissionSelected=[$scope.permissions[$scope.permissions.length-1].value])},$scope.submit=function(){return console.log("$scope.permissionSelected",$scope.permissionSelected),$http({method:"PUT",url:"/Api/Permission",data:{identity:{user:1},asset:{asset:"SitetheoryUserBundle:User",id:2},permissions:$scope.permissionSelected},headers:{"Content-Type":"application/json"}}).then(function(response){console.log("response",response)},function(response){console.log("response error",response)})}},templateUrl:Stratus.BaseUrl+"sitetheorystratus/stratus/components/permissions"+(Stratus.Environment.get("production")?".min":"")+".html"}});