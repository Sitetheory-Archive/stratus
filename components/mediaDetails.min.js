!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","jquery","underscore","angular","angular-material","stratus.services.media"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Components.MediaDetails={bindings:{ngModel:"=",media:"<",collection:"<"},controller:function($scope,$mdDialog,$attrs,commonMethods,media){commonMethods.componentInitializer(this,$scope,$attrs,"media_details",!0);var $ctrl=this;$ctrl.$onInit=function(){$ctrl.deleteMedia=deleteMedia,$ctrl.dowloadMedia=dowloadMedia,$ctrl.getLinkMedia=getLinkMedia,$ctrl.changeMedia=changeMedia,$ctrl.closeDialog=closeDialog};function deleteMedia(){var fileId=$ctrl.media.data.id;Stratus.Environment.get("production")||console.log(fileId),$mdDialog.show($mdDialog.confirm().title("DELETE MEDIA").textContent("Are you sure you want to permanently delete this from your library? You may get broken images if any content still uses this image.").multiple(!0).ok("Yes").cancel("No")).then(function(){media.deleteMedia(fileId).then(function(response){commonMethods.getStatus(response).code==commonMethods.RESPONSE_CODE().success?$ctrl.collection.fetch():$mdDialog.show($mdDialog.alert().parent(angular.element(document.querySelector("#popupContainer"))).clickOutsideToClose(!1).title("Error").multiple(!0).textContent(commonMethods.getStatus(response).message).ok("Ok"))},function(rejection){Stratus.Environment.get("production")||console.log(rejection.data)})})}function dowloadMedia(){console.log("handle dowload event")}function getLinkMedia(){console.log("handle getLink event")}function changeMedia(){console.log($ctrl.media)}function closeDialog(){$scope.$parent.close()}},templateUrl:Stratus.BaseUrl+"sitetheorystratus/stratus/components/mediaDetails"+(Stratus.Environment.get("production")?".min":"")+".html"}});