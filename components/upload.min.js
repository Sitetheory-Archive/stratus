!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","jquery","dropzone","angular","angular-material"],factory):factory(root.Stratus,root._,root.$,root.Dropzone)}(this,function(Stratus,_,$,Dropzone){Stratus.Components.Upload={transclude:!0,bindings:{elementId:"@"},controller:function($scope,$element,$attrs,$window){this.uid=_.uniqueId("upload_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,$scope.dropzone=null,$scope.interval=$window.setInterval(function(){var $target=$("#"+$scope.elementId);$target.length&&!$scope.dropzone&&($scope.dropzone=new Dropzone($target[0],{url:"https://app.sitetheory.io:3000/?session="+Stratus.Cookies.retrieve("SITETHEORY"),method:"POST",parallelUploads:5,clickable:!0,maxFiles:null}),$target.addClass("dropzone"),$window.clearInterval($scope.interval))},1e3)},templateUrl:Stratus.BaseUrl+"sitetheorystratus/stratus/components/upload"+(Stratus.Environment.get("production")?".min":"")+".html"}});