!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","angular-material","stratus.services.registry","stratus.services.model"],factory):factory(root.Stratus,root._)}(this,function(Stratus,_){Stratus.Components.Selector={transclude:{image:"?stratusSelectorImage",label:"?stratusSelectorLabel"},bindings:{elementId:"@",ngModel:"=",type:"@",property:"@"},controller:function($scope,$attrs,$log,registry,model){this.uid=_.uniqueId("selector_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,$attrs.type&&($scope.registry=new registry,$scope.registry.fetch({target:$attrs.type,decouple:"true",api:'{"options":{"paging": false},"limit":5000}'},$scope)),$scope.property=$attrs.property||null,$scope.model=null,$scope.$watch("$ctrl.ngModel",function(data){data instanceof model&&data!==$scope.model&&($scope.model=data)})},templateUrl:Stratus.BaseUrl+"sitetheorystratus/stratus/components/selector"+(Stratus.Environment.get("production")?".min":"")+".html"}});