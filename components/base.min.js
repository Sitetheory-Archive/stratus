!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","angular-material","stratus.services.registry","stratus.services.model","stratus.services.collection","stratus.components.pagination","stratus.components.search"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){Stratus.Components.Base={transclude:!0,bindings:{elementId:"@",ngModel:"=",property:"@",target:"@",id:"@",manifest:"@",decouple:"@",direct:"@",api:"@",urlRoot:"@",limit:"@",options:"<"},controller:function($scope,$attrs,Registry,Model,Collection,$log){this.uid=_.uniqueId("base_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,Stratus.Internals.CssLoader(Stratus.BaseUrl+Stratus.BundlePath+"components/base"+(Stratus.Environment.get("production")?".min":"")+".css"),$scope.property=$attrs.property||null,$scope.data=null,$scope.model=null,$scope.collection=null,$attrs.target&&($scope.registry=new Registry,$scope.registry.fetch($attrs,$scope)),$scope.$watch("$ctrl.ngModel",function(data){data instanceof Model&&data!==$scope.model?$scope.model=data:data instanceof Collection&&data!==$scope.collection&&($scope.collection=data)}),$log.log("component:",$scope,$attrs)},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/base"+(Stratus.Environment.get("production")?".min":"")+".html"}});