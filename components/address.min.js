!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","underscore","angular","angular-material"],factory):factory(root.Stratus,root._,root.angular)}(this,function(Stratus,_,angular){var root=this;require(["//maps.googleapis.com/maps/api/js?v=3&key="+Stratus.Api.GoogleMaps+"&libraries=places&callback=initAutocomplete"],function(){console.log("map loaded!")}),Stratus.Components.Address={transclude:!0,bindings:{elementId:"@",hello:"@"},controller:function($scope,$attrs,$log){var autocomplete;this.uid=_.uniqueId("base_"),Stratus.Instances[this.uid]=$scope,$scope.elementId=$attrs.elementId||this.uid,Stratus.Internals.CssLoader(Stratus.BaseUrl+Stratus.BundlePath+"components/address"+(Stratus.Environment.get("production")?".min":"")+".css"),$log.log("component:",this),root.initAutocomplete=function(){(autocomplete=new google.maps.places.Autocomplete(document.getElementById("autocomplete"),{types:["geocode"]})).addListener("place_changed",function(){console.log("place:",autocomplete.getPlace())})},root.geolocate=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition(function(position){var geolocation={lat:position.coords.latitude,lng:position.coords.longitude},circle=new google.maps.Circle({center:geolocation,radius:position.coords.accuracy});autocomplete.setBounds(circle.getBounds())})}},templateUrl:Stratus.BaseUrl+Stratus.BundlePath+"components/address"+(Stratus.Environment.get("production")?".min":"")+".html"}});