!function(root,factory){"function"==typeof define&&define.amd?define(["stratus","moment","angular"],factory):factory(root.Stratus,root.moment)}(this,function(Stratus,moment){Stratus.Components.OptionValue={bindings:{ngModel:"=",custom:"@",multiple:"@",options:"=",type:"@"},controller:function($scope,$element,$attrs,$parse){Stratus.Instances[_.uniqueId("option_value_")]=$scope,$scope.model=$parse($attrs.ngModel),$scope.items=$scope.model($scope.$parent);var normalize=function(){angular.isArray($scope.items)||($scope.items=[]),$scope.items.length||$scope.items.push({})};normalize(),$scope.$watch("items",function(items){$scope.model.assign($scope.$parent,items)},!0),$scope.$parent.$watch($attrs.ngModel,function(items){$scope.items=items,normalize()},!0)},templateUrl:Stratus.BaseUrl+"sitetheorystratus/stratus/components/optionValue"+(Stratus.Environment.get("production")?".min":"")+".html"}});