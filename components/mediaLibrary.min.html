<pre>
  <hr>
</pre>
<div id="open-library">
  
  <div ng-if="$ctrl.isSelector" class="sectionContainer selectedContainer borderDefault borderDefaultAll borderRadiusDefault">
    <p class="instructions fontBody clearfix">
      <a href="#" ng-click="$ctrl.toggleLibrary()" class="nothingSelectedTextLink">Open library to select images.</a>
    </p>
    <p class="smallLabel selectedMediaLabel">Media</p>
    <div id="selectedDropArea" ng-class="{'dragBorder':dragClass}" ng-model="files" name="files" ngf-multiple="true" ngf-before-model-change="beforeChange($files,$event)" ngf-drop ngf-max-files="20" ngf-model-invalid="invalidFiles" ngf-validate="{size: {max: '10MB'}}" ngf-drag-over-class="dragover" ngf-model-options="{updateOn: 'select drop', allowInvalid: false, debounce: 0}">
      <ul class="listInline" stratus-sortable ng-sortable="draggedFiles" ng-sortable-item-selector=".draggableImg">
        <li class="draggableImg" ng-if="draggedFiles.length" ng-repeat="df in draggedFiles">
          <div ng-if="f.type == 'application/x-unknown'" class="droppedUnknown positionCenter">
            <md-icon md-svg-src="/Api/Resource?path=@SitetheoryCoreBundle:images/contentTypeIcon/document.svg"></md-icon>
          </div>
          <div ng-if="df.mime != 'application/x-unknown'" class="libraryItem">
            <a href="#" ng-dblclick="zoomView(df)">
              <div class="imageDraggable" id="libb_{{media.data.id}}" style="background: url('{{df.url}}') no-repeat center center; background-size: cover">
                <img id="{{df.id}}" class="shapeholder selectImgDrag" src="/assets/1/0/bundles/sitetheorycore/images/shapeholderSquare.png">
              </div>
            </a>
            <div class="imageInfoContainer">
              <div class="imageHoverInfo borderRadiusDefault">
                <div class="format-size">
                  <div class="smallLabel fileDetails">
                    <span class="fileType">{{ df.extension | uppercase }}</span><span class="delimiter"></span><span class="fileSize">{{media.data.bytesHuman}}89 KB</span>
                  </div>
                </div>
                <p class="fontBody imgTitle">{{ df.name }}</p>
                <div class="positionActionArea">
                  <div class="clearfix actionBtns">
                    <a href="#" ng-click="zoomView(df)" class="infoIcon">
                      <md-tooltip>Image details</md-tooltip>
                      <md-icon md-svg-src="/Api/Resource?path=@SitetheoryCoreBundle:images/icons/actionButtons/info.svg"></md-icon>
                    </a>
                    <a href="#" class="deleteIcon">
                      <md-tooltip>Remove selection</md-tooltip>
                      <md-icon aria-hidden="true" ng-click="removeFromSelected(df.id);" md-svg-src="/Api/Resource?path=@SitetheoryCoreBundle:images/icons/actionButtons/clear.svg"></md-icon>
                    </a>
                  </div>
                </div>
              </div>
              
            </div>
            
          </div>
          
        </li>
        <li class="libraryToggle">
          <a class="positionAnchor accentBackgroundHover borderDefault borderDefaultAll colorAccent1" href="#" ng-click="$ctrl.toggleLibrary()">
            <md-tooltip>Open Media Library</md-tooltip>
            <div ng-class="dragDropClass" aria-hidden="true">
              <md-icon class="positionCenter" md-svg-src="/Api/Resource?path=@SitetheoryCoreBundle:images/icons/actionButtons/add.svg"></md-icon>
              <img class="shapeholder" src="/assets/1/0/bundles/sitetheorycore/images/shapeholderSquare.png">
            </div>
          </a>
        </li>
      </ul>
    </div>
    
  </div>

  
  <div ng-if="$ctrl.showLibrary" class="media-library-content">
    <div class="library-content">
      <div layout-gt-sm="row">
        <button class="stGrid column15 btn gradientAnchor md-button md-ink-ripple open-uploader" ng-click="$ctrl.openUploader(true)">Add +</button>
        <div class="stGrid column5"></div>
        <stratus-search class="stGrid column80"></stratus-search>
      </div>
      <div class="medias">
        <div ng-repeat="media in collection.models" class="media-item" ng-if="media.data.url || media.data.file">
          <i ng-if="media.data.mime == 'video'" class="fa fa-5x fa-video-camera document" aria-hidden="true"></i>
          <i ng-if="media.data.mime == 'application/pdf'" class="fa fa-5x fa-file-pdf-o document" aria-hidden="true"></i>
          <i ng-if="media.data.mime == 'application/msword'" class="fa fa-5x fa-file-word-o document" aria-hidden="true"></i>
          <img ng-if="media.data.mime.indexOf('image') > -1" src="{{media.data.url || media.data.file}}">
          <div class="middle-details">
            <div class="name"><p>{{media.data.name | uppercase}}</p></div>
            <div class="time"><p>{{media.data.time | date: 'MMM dd, yyyy h:mma'}}</p></div>
            <div class="controls">
              <i class="fa fa-info-circle fa-2x" aria-hidden="true" ng-click="$ctrl.showDetails(media)"></i>
              <i class="fa fa-trash-o fa-2x" aria-hidden="true" ng-click="$ctrl.deleteMedia(media.data.id)"></i>
              <i ng-if="$ctrl.showPlusIcon" class="fa fa-plus fa-2x" aria-hidden="true" ng-click="$ctrl.addOrRemoveFile(media.data.id)"></i>
              <i ng-if="!$ctrl.showPlusIcon" class="fa fa-minus fa-2x" aria-hidden="true" ng-click="$ctrl.addOrRemoveFile(media.data.id)"></i>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="library-footer nav-button">
      <stratus-pagination></stratus-pagination></div></div></div>