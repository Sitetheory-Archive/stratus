<div id="comp">
    <div class="layout_bx">
        <!-- Gallery header Ends -->
        <a href="javascript:void(0);" ng-show="$ctrl.layoutOption === 'collapsed' || model.exists(property)"
           ng-click="toggleGallery();">Select Layout</a>
        <!--  <span ng-show="$ctrl.ngModel.data.version.layout === null">Please select from options below</span>-->
        
         <!-- ng-repeat="sel in model.get(property)" -->
         
        <div class="lt_box positionAnchor">
            <!-- FIXME: This was broken on the following div: -->
            <!--ng-class="{true:'galleryimg-active'}[$ctrl.layoutOption === 'collapsed']"-->
            <!-- <button class="cancel--btn" ng-click="model.toggle(property, sel.data.id, toggleOptions);"></button> -->
            <div class="lt-image"
                 ng-class="{'galleryimg-active': true}[$ctrl.layoutOption === 'collapsed' && !showGallery]">
                <img src="/assets/1/0/bundles/sitetheorycore/images/visual/lt-left.jpg" alt=""/>
                <!--<div ng-if="$ctrl.layoutOption === 'collapsed'">-->
                <a href="#" ng-show="$ctrl.layoutOption === 'collapsed' && model.exists(property) && !showGallery"
                   ng-click="displayGallery();" class="blck_btn">
                    <span>Change</span></a>
                <a href="#" ng-show="$ctrl.layoutOption === 'collapsed' && !model.exists(property) && !showGallery"
                   class="blck_btn"
                   ng-click="displayGallery();">
                    <span>Choose Layout</span></a>
                <!--</div>-->
            </div>
             
            
            <div class="lt-content">
                <h4>{{selectedName}}</h4>
                
                <div class="name fontSecondary" ng-bind-html="layoutRawDesc(selectedDesc) | truncate:{limit:300}"></div>

                
                
            </div>
        </div><!-- Layout box Inner ends -->
        <div ng-show="!model.get(property).id">
            <span>No Items selected</span>
        </div>
    </div><!-- Layout Box Ends -->

    <div class="layout_bx" ng-show="showGallery || $ctrl.layoutOption === 'expanded'">

        <!--  TODO: This header should only show up in situations where users are manually required to open the selector. It should be open by default in most situations. Users are going to go to the Layout tab to change or compare layouts. They need to all be visible. Also make the page look not empty. -->

        <!-- <p class="instructions">Available designs for your [profile].</p> -->


        <div class="search--gallery" ng-if="$ctrl.search === true">
            <stratus-search flex="40"></stratus-search>
        </div>



        <div class="lt_box">

            <md-grid-list
                    md-cols-xs="1" md-cols-gt-xs="2"
                    md-row-height="3:4"
                    md-gutter-gt-md="50px" md-gutter-md="40px" md-gutter-sm="30px" md-gutter-gt-xs="0" >

                <md-grid-tile ng-repeat="target in collection.models">


                    <div class="selectorListItem positionAnchor" ng-class="{'select-highlight': model.exists(property, target.data.id)}">
                        <h4 class="smallLabel">{{target.data.name}}</h4>
                        <div class="checkIcon colorPrimary easyTransition">
                            <md-icon md-svg-src="/Api/Resource?path=@SitetheoryCoreBundle:images/icons/actionButtons/check.svg"></md-icon>
                        </div>
                        <div class="backgroundDark positionAnchor">
                            <div class="selectorListImage defaultShadow easyTransition">
                                <div class="selectedBorder positionAll easyTransition">

                                </div>
                                <img src="/assets/1/0/bundles/sitetheorycore/images/visual/2columnMinimal.jpg" alt=""/>
                            </div>

                            <a href="#" ng-show="$ctrl.details === true" class="infoIcon easyTransition" ng-click="zoomView(target.data);">
                                <md-icon  md-svg-src="/Api/Resource?path=@SitetheoryCoreBundle:images/icons/actionButtons/info.svg"></md-icon>
                            </a>
                            <div class="btnContainer positionCenter">
                                <a href="#" ng-hide="model.exists(property, target.data.id)"
                                   ng-click="model.toggle(property, {'id': target.data.id,'name':target.data.name,'description':target.data.description,'images':target.data.images}, toggleOptions); updateDetails({'id': target.data.id,'name':target.data.name,'description':target.data.description,'images':target.data.images});"
                                   class="btn">Choose Layout </a>
                            </div>
                        </div>
					</div>

                </md-grid-tile>

            </md-grid-list>

        </div><!-- Layout box Inner ends -->
        <stratus-pagination class="visual-pag"></stratus-pagination>
    </div><!-- Layout Box Ends -->
    <!-- Detail Page ends here -->
</div>

<script type="text/ng-template" id="layoutDetail.html">
    <!-- Detail Page starts from here -->
    <div class="layout-dialog" role="dialog">
        <div class="lt-popup clearfix defaultBorderRadius">
            <div class="popupImage stGrid column50">
                <div class="defaultShadow">
                    <a href="javascript:void(0)">
                        <img src="/assets/1/0/bundles/sitetheorycore/images/visual/2columnMinimal.jpg" alt=""/>
                    </a>
                </div>
            </div>
            <div class="popupInfo stGrid column50">
                <h2>{{layoutDetail.name}}</h2>
                <hr>
                <div class="popupQuickInfo">
                    <p class="smallLabel"><strong>Good for:</strong>&nbsp;&nbsp;Profiles with contact info, lengthy bios and possibly a quote or highlight</p>
                    <!-- this should show up only if exists. can get cluttered
                    <p class="smallLabel"><strong>Not so Good for:</strong>&nbsp;&nbsp;Lorem ipsum dolor sit amet</p>-->
                </div>
                <div class="name popupDescription fontBody" ng-bind-html="layoutRawDesc(layoutDetail.description) | truncate:{limit:300}"></div>
                <a href="javascript:void(0)" ng-hide="model.exists(property,layoutDetail.id)"
                   ng-click="model.toggle(property, {'id': layoutDetail.id,'name':layoutDetail.name,'description':layoutDetail.description,'images':layoutDetail.images}, toggleOptions); ; updateDetails({'id': target.data.id,'name':layoutDetail.name,'description':layoutDetail.description,'images':layoutDetail.images}); closeDialog();" class="btn btnChoose">Choose Layout </a>
                <hr>
                <p class="smallLabel"><strong>Other Options</strong></p>

                <div class="popupForm fontBody">
                    <input type="checkbox">
                    <label>Apply to all my [profiles]</label>
                </div>
                <div class="popupForm fontBody">
                    <input type="checkbox">
                    <label>Apply to [profiles] with these tags</label>
                </div>

                <a class="btn" href="">Apply Layout</a>
            </div>
            <div>
                <button type="button" class="btnClose" href="javascript:;" ng-click="closeDialog();">
                    <span class="sr-only">Toggle Navigation</span><svg viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><defs></defs><g id="close-{{ id }}" fill="none" transform="translate(1.000000, 2.000000)"><g id="closeX" transform="translate(16.271267, 15.687500)" stroke-linecap="square" stroke="#666"><g id="lineLeft"><path d="M1.63636364,0.5875 L16.3737342,16.4608762"></path></g><g id="lineRight"><path d="M15.8181818,0.5875 L1.08081124,16.4608762"></path></g></g><circle class="oval" stroke="#555" cx="24.7258128" cy="24" r="24"></circle></g></svg>
                </button>
            </div>


        </div><!-- Layout popup ends -->
    </div>
</script>tm